<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>MediaTunnel | Muxable Labs</title>
    <link rel="stylesheet" href="https://unpkg.com/mvp.css" />
    <script type="module" src="/dist/index.js"></script>
  </head>
  <body>
    <header>
      <h1>MediaTunnel</h1>
      <p>
        Live audio and video without tears, from
        <a href="https://muxable.com">Muxable Labs</a>
      </p>
    </header>
    <main>
      <script>
        var uri = 'ws://34.138.20.36:7000/ws';
      </script>
      <article>
        <p>
          MediaTunnel lets you publish media easily from any source. For
          example, try publishing your browser's media.
        </p>
        <pre>
            <code>
import MediaTunnel from '@muxable/mtun';

...

const stream = await window.navigator.getUserMedia();
// use this id anywhere to play the media.
const id = await new MediaTunnel().publish(stream);
            </code>
        </pre>
        <a href="#" id="publish"><strong>Run</strong></a>
        <p>Stream ID: <code id="publish-id"></code></p>
        <hr />
        <p>Then take that stream id and play it below.</p>
        <pre>
            <code>
import MediaTunnel from '@muxable/mtun';

...

const stream = await new MediaTunnel().play(id);
// a convenience function to make playing a media stream easier.
await MediaTunnel.attach(document.getElementById('video'), stream);
            </code>
        </pre>
        <p>Stream ID: <input type="text" id="play-id" /></p>
        <div>
          <a href="#" id="play"><strong>Play</strong></a>
        </div>
        <video id="video" width="640"></video>
        <hr />
        <p>
          Not convinced? That's okay, we're tough critics too. Try publishing
          from ffmpeg instead.
        </p>
        <pre>
          <code>
$ ffmpeg -r 30 -f lavfi -i testsrc -f lavfi -i sine=f=440:b=4 -vf scale=1280:960 -vcodec libx264 -profile:v baseline -pix_fmt yuv420p -acodec aac -f flv rtmp://mtun.io/live/stream-id
          </code>
        </pre>
        <p>
          And you'll be able to consume that stream above too. And if you're
          really not convinced, then try publishing your camera and microphone
          and consuming <code>rtmp://mtun.io/live/&lt;stream id&gt;</code>.
        </p>
        <section>
          <header>
            <h2>Plans</h2>
            <p>You take care of the video, we'll take care of the transport.</p>
          </header>
          <aside>
            <h3>Self-hosted</h3>
            <ul>
              <li>Docker deploy your own containers</li>
              <li>Best-effort support</li>
              <li>I mean it's free though :D</li>
            </ul>
            <a href="https://forms.gle/CqsPx86cPYFahm9d7">
              <strong>Get started</strong></a
            >
          </aside>
          <aside>
            <h3>Hobby</h3>
            <ul>
              <li>Unlimited free WebRTC ingestion</li>
              <li>10k minutes of playback free per month</li>
              <li>$6 per 1000 minutes of playback</li>
              <li>Publish and play media sources over WebRTC</li>
            </ul>
            <a href="https://forms.gle/CqsPx86cPYFahm9d7">
              <strong>Sign up</strong></a
            >
          </aside>
          <aside>
            <h3>Pro</h3>
            <ul>
              <li>Unlimited free ingestion</li>
              <li>10k minutes of playback free per month</li>
              <li>$10 per 1000 minutes of playback</li>
              <li>Transcoding included</li>
              <li>
                Publish and play media sources over WebRTC, RTMP, SRT, and RIST
              </li>
            </ul>
            <a href="https://forms.gle/CqsPx86cPYFahm9d7">
              <strong>Sign up</strong></a
            >
          </aside>
        </section>
      </article>
    </main>
  </body>
</html>
